<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Android基础之Activity启动模式 | Daniel_Wen&#39;s blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="官方参考：http://developer.android.com/guide/topics/manifest/activity-element.html#lmodehttp://developer.android.com/guide/components/tasks-and-back-stack.html
一般的，我们可以直接在AndroidManifest.xml文件的标签的launchMod">
<meta property="og:type" content="article">
<meta property="og:title" content="Android基础之Activity启动模式">
<meta property="og:url" content="http://belief1992.com/2015/08/22/Android基础之Activity启动模式/">
<meta property="og:site_name" content="Daniel_Wen's blog">
<meta property="og:description" content="官方参考：http://developer.android.com/guide/topics/manifest/activity-element.html#lmodehttp://developer.android.com/guide/components/tasks-and-back-stack.html
一般的，我们可以直接在AndroidManifest.xml文件的标签的launchMod">
<meta property="og:image" content="/pictures/activity_launchmode1.jpg">
<meta property="og:image" content="/pictures/activity_launchmode2.jpg">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Android基础之Activity启动模式">
<meta name="twitter:description" content="官方参考：http://developer.android.com/guide/topics/manifest/activity-element.html#lmodehttp://developer.android.com/guide/components/tasks-and-back-stack.html
一般的，我们可以直接在AndroidManifest.xml文件的标签的launchMod">

  
    <link rel="alternative" href="/atom.xml" title="Daniel_Wen&#39;s blog" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.jpg">
  
  <link rel="stylesheet" href="/css/style.css" type="text/css">

</head>
<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<a href="/" class="profilepic">
			
			<img lazy-src="/favicon.jpg" class="js-avatar">
			
		</a>

		<hgroup>
		  <h1 class="header-author"><a href="/">Daniel_Wen</a></h1>
		</hgroup>

		
		<p class="header-subtitle">Whatever is worth doing is worth doing well.</p>
		

		
			<div class="switch-btn">
				<div class="icon">
					<div class="icon-ctn">
						<div class="icon-wrap icon-house" data-idx="0">
							<div class="birdhouse"></div>
							<div class="birdhouse_holes"></div>
						</div>
						<div class="icon-wrap icon-ribbon hide" data-idx="1">
							<div class="ribbon"></div>
						</div>
						
						
						<div class="icon-wrap icon-me hide" data-idx="3">
							<div class="user"></div>
							<div class="shoulder"></div>
						</div>
						
					</div>
					
				</div>
				<div class="tips-box hide">
					<div class="tips-arrow"></div>
					<ul class="tips-inner">
						<li>菜单</li>
						<li>标签</li>
						
						
						<li>关于我</li>
						
					</ul>
				</div>
			</div>
		

		<div class="switch-area">
			<div class="switch-wrap">
				<section class="switch-part switch-part1">
					<nav class="header-menu">
						<ul>
						
							<li><a href="/">主页</a></li>
				        
							<li><a href="/archives">所有文章</a></li>
				        
							<li><a href="/categories/随笔">随笔</a></li>
				        
						</ul>
					</nav>
					<nav class="header-nav">
						<div class="social">
							
								<a class="github" target="_blank" href="https://github.com/HelloWorld1992" title="github">github</a>
					        
						</div>
					</nav>
				</section>
				
				
				<section class="switch-part switch-part2">
					<div class="widget tagcloud" id="js-tagcloud">
						<a href="/tags/Handler/" style="font-size: 12.50px;">Handler</a><a href="/tags/Hexo/" style="font-size: 12.50px;">Hexo</a><a href="/tags/View/" style="font-size: 17.50px;">View</a><a href="/tags/activity/" style="font-size: 15.00px;">activity</a><a href="/tags/android/" style="font-size: 20.00px;">android</a><a href="/tags/心理学/" style="font-size: 12.50px;">心理学</a><a href="/tags/思考与感悟/" style="font-size: 15.00px;">思考与感悟</a><a href="/tags/性能优化/" style="font-size: 12.50px;">性能优化</a><a href="/tags/搭建博客/" style="font-size: 12.50px;">搭建博客</a><a href="/tags/方法论/" style="font-size: 10.00px;">方法论</a><a href="/tags/职场/" style="font-size: 12.50px;">职场</a>
					</div>
				</section>
				
				
				

				
				
				<section class="switch-part switch-part3">
				
					<div id="js-aboutme">小小程序猿一枚，专注于Android, Java开发。热爱生活，热爱互联网，热血动漫‘脑残粉’。</div>
				</section>
				
			</div>
		</div>
	</header>				
</div>
    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
  	<div class="overlay">
  		<div class="slider-trigger"></div>
  		<h1 class="header-author js-mobile-header hide">Daniel_Wen</h1>
  	</div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
				<img lazy-src="/favicon.jpg" class="js-avatar">
			</div>
			<hgroup>
			  <h1 class="header-author">Daniel_Wen</h1>
			</hgroup>
			
			<p class="header-subtitle">Whatever is worth doing is worth doing well.</p>
			
			<nav class="header-menu">
				<ul>
				
					<li><a href="/">主页</a></li>
		        
					<li><a href="/archives">所有文章</a></li>
		        
					<li><a href="/categories/随笔">随笔</a></li>
		        
		        <div class="clearfix"></div>
				</ul>
			</nav>
			<nav class="header-nav">
				<div class="social">
					
						<a class="github" target="_blank" href="https://github.com/HelloWorld1992" title="github">github</a>
			        
				</div>
			</nav>
		</header>				
	</div>
</nav>
      <div class="body-wrap"><article id="post-Android基础之Activity启动模式" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/08/22/Android基础之Activity启动模式/" class="article-date">
  	<time datetime="2015-08-22T08:06:35.000Z" itemprop="datePublished">8月 22 2015</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Android基础之Activity启动模式
    </h1>
  

      </header>
      
      <div class="article-info article-info-post">
        
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/activity/">activity</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/android/">android</a></li></ul>
	</div>

        
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/学习/">学习</a>
	</div>


        <div class="clearfix"></div>
      </div>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>官方参考：<br><a href="http://developer.android.com/guide/topics/manifest/activity-element.html#lmode" target="_blank" rel="external">http://developer.android.com/guide/topics/manifest/activity-element.html#lmode</a><br><a href="http://developer.android.com/guide/components/tasks-and-back-stack.html" target="_blank" rel="external">http://developer.android.com/guide/components/tasks-and-back-stack.html</a></p>
<p>一般的，我们可以直接在AndroidManifest.xml文件的<activity>标签的launchMode属性中设置activity的启动模式，共有四种，分别为：standard, sindleTop, singleTask, singleInstance.<a id="more"></a></activity></p>
<p>下图是从官网上截下来的，对这四种启动模式算是比较好的解释了：<br><img src="/pictures/activity_launchmode1.jpg" alt="Activity启动模式"><br><img src="/pictures/activity_launchmode2.jpg" alt="Activity启动模式"></p>
<h2 id="standard">standard</h2>
<p>这是默认的模式，每次启动都会创建一个实例，每个实例会处理单独的intent。</p>
<h2 id="singleTop">singleTop</h2>
<p>和standard模式差不多，但是使用该模式启动的activity有两种情况，如果目标task已经存在一个此activity的实例在栈顶，那么这个实例会通过onNewIntent方法收到这个intent，新的实例就不会创建。如果已经存在的activity实例在目标task中，但不是在栈顶，则新的实例就会被创建并且加入栈。</p>
<h2 id="singleTask">singleTask</h2>
<p>和standard和singleTop可以拥有多个实例不同，该模式的activity只允许在系统中有一个实例，如果系统中已经有了一个实例，持有这个实例的任务将移动到顶部，同时intent将被通过onNewIntent()发送。如果没有，则会创建一个新的Activity并置放在合适的任务中。</p>
<h2 id="singleInstance">singleInstance</h2>
<p>和singleTask相同，唯一的差别是系统不会加载其他activity到其保持的task中，这个activity通常是它在task中的唯一成员。</p>
<hr>
<p>除了使用launchMode属性设置启动模式，还可以通过设置Intent的flag来启动activity。</p>
<h2 id="FALG_ACTIVITY_NEW_TASK">FALG_ACTIVITY_NEW_TASK</h2>
<blockquote>
<p>Start the activity in a new task. If a task is already running for the activity you are now starting, that task is brought to the foreground with its last state restored and the activity receives the new intent in onNewIntent().<br>效果和singleTask相同。</p>
</blockquote>
<h2 id="FLAG_ACTIVITY_SINGLE_TOP">FLAG_ACTIVITY_SINGLE_TOP</h2>
<blockquote>
<p>If the activity being started is the current activity (at the top of the back stack), then the existing instance receives a call to onNewIntent(), instead of creating a new instance of the activity.<br>效果和singleTop相同。</p>
</blockquote>
<h2 id="FLAG_ACTIVITY_CLEAR_TOP">FLAG_ACTIVITY_CLEAR_TOP</h2>
<blockquote>
<p>If the activity being started is already running in the current task, then instead of launching a new instance of that activity, all of the other activities on top of it are destroyed and this intent is delivered to the resumed instance of the activity (now on top), through onNewIntent()).<br>如果使用该标识启动的activity已存在于当前task,则不会重新实例化一个activity,而是将该activity上面所有的activity销毁掉并置于栈顶。</p>
</blockquote>

      
    </div>
    
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2015/08/26/人生中不可不想的事/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption"><</strong>
      <div class="article-nav-title">
        
          人生中不可不想的事
        
      </div>
    </a>
  
  
    <a href="/2015/08/22/Android基础之Activity学习/" id="article-nav-older" class="article-nav-link-wrap">
      <div class="article-nav-title">Android基础之Activity学习</div>
      <strong class="article-nav-caption">></strong>
    </a>
  
</nav>

  
</article>


<div class="share">
	<!-- JiaThis Button BEGIN -->
	<div class="jiathis_style">
		<span class="jiathis_txt">分享到：</span>
		<a class="jiathis_button_tsina"></a>
		<a class="jiathis_button_cqq"></a>
		<a class="jiathis_button_douban"></a>
		<a class="jiathis_button_weixin"></a>
		<a class="jiathis_button_tumblr"></a>
		<a href="http://www.jiathis.com/share" class="jiathis jiathis_txt jtico jtico_jiathis" target="_blank"></a>
	</div>
	<script type="text/javascript" src="http://v3.jiathis.com/code/jia.js?uid=1405949716054953" charset="utf-8"></script>
	<!-- JiaThis Button END -->
</div>



<div class="duoshuo">
	<!-- 多说评论框 start -->
	<div class="ds-thread" data-thread-key="Android基础之Activity启动模式" data-title="Android基础之Activity启动模式" data-url="http://belief1992.com/2015/08/22/Android基础之Activity启动模式/"></div>
	<!-- 多说评论框 end -->
	<!-- 多说公共JS代码 start (一个网页只需插入一次) -->
	<script type="text/javascript">
	var duoshuoQuery = {short_name:"true"};
	(function() {
		var ds = document.createElement('script');
		ds.type = 'text/javascript';ds.async = true;
		ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
		ds.charset = 'UTF-8';
		(document.getElementsByTagName('head')[0] 
		 || document.getElementsByTagName('body')[0]).appendChild(ds);
	})();
	</script>
	<!-- 多说公共JS代码 end -->
</div>




</div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info">
    	<div class="footer-left">
    		&copy; 2016 Daniel_Wen
    	</div>
      	<div class="footer-right">
      		<a href="http://hexo.io/" target="_blank">Hexo</a>  Theme <a href="https://github.com/litten/hexo-theme-yilia" target="_blank">Yilia</a> by Litten
      	</div>
    </div>
  </div>
</footer>
    </div>
    
  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css" type="text/css">



<script>
	var yiliaConfig = {
		fancybox: true,
		mathjax: true,
		animate: true,
		isHome: false,
		isPost: true,
		isArchive: false,
		isTag: false,
		isCategory: false,
		open_in_new: false
	}
</script>
<script src="http://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js" type="text/javascript"></script>

<script src="/js/main.js" type="text/javascript"></script>







<script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    }
});

MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';                 
    }       
});
</script>

<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>


  </div>
 
</body>
</html>